<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>老师分析界面</title>
    <script src="../js/jquery-3.4.1.min.js" ></script>
    <script src="../jq/jquery.cookie.js"></script>
    <link rel="stylesheet" href="../css/teacher_analysis.css">
    <link rel="stylesheet" href="../layui/css/layui.css">
    <script src="../js/common.js"></script>
    <script src="../layui/layui.js"></script>
</head>
<body style="background-color: rgb(245, 247, 249);">
<div  style="width: 100%;height: 62px;background-color: #363c40;">
    <div class="layui-col-md10 layui-col-md-offset1">
        <ul class="layui-nav" lay-filter="" style="background-color: #363c40;">
            <li  class="layui-nav-item"><a href="老师端界面.html" style="font-size:20px">在线考试系统</a></li>
            <li class="layui-nav-item "><a href="test_paper2.html">出考卷</a></li>
            <li class="layui-nav-item"><a href="insert_student.html">学生</a></li>
            <li class="layui-nav-item"><a href="entry_questions.html">出题</a></li>
            <li class="layui-nav-item" style="float:right">
                <a href="personalHomepage.jsp">我</a>
                <dl class="layui-nav-child">
                    <dd><a href="teacherPersonalHomepage.html">个人界面</a></dd>
                    <dd><a href="login.html" onclick="exit()">退出</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item" style="float:right">
                <a href="老师端界面.html">个人主页 |<span class="layui-badge-dot"></span></a>
            </li>
            <li class="layui-nav-item" style="float:right">
                <a href="message.html"><i class="layui-icon layui-icon-email" style="font-size: 16px; color: #47a7ef;">消息 </i> <span class="layui-badge">1</span> |</a>
            </li>
        </ul>
    </div>
</div>
      <div class="layui-row">
        <!--<div class="layui-col-md3 layui-col-md-offset1 title-left">-->
          <!--<div class="grid-demo">-->
            <!--<div>你的姓名：<span id="name">rrr</span></div>-->
            <!--<div>你的班级：<span id="achievement">2，3</span></div>-->
            <!--<div class="fieldset">-->
                <!--<fieldset class="layui-elem-field layui-field-title" style="margin-top: 26px;">-->
                    <!--<legend>查看</legend>-->
                  <!--</fieldset>-->
              <!--</div>-->
              <!--<form class="layui-form" action="">-->
            <!--<div style="margin-bottom: 20px;">-->
                <!--<button type="button" class="layui-btn layui-btn-normal"id="grade_class">查看本班成绩表</button><br>               -->
                <!--<button type="button" class="layui-btn layui-btn-normal"id="progress">查看学生进退情况</button><br>-->
                <!--<button type="button" class="layui-btn layui-btn-normal"id="accuracy">每道题的正确率</button><br>                -->
            <!--</div>-->
              <!--</form>-->
          <!--</div>-->
        <!--</div>-->
        <div class="layui-col-md8 layui-col-md-offset2">
          <div class=" grid-demo-bg1 title-right">
            
            <form class="layui-form" action="">
                <div class=" layui-input-inline">
                <select name="city" lay-verify="">
                    <option value="">请选择一个班级</option>
                    <option value="010">一班</option>
                    <option value="021">二班</option>
                    <option value="0571">三班</option>
                </select> 
                </div>
                <div class=" layui-input-inline">
                    <input type="text" name="title" required  lay-verify="required" placeholder="请输入题目" autocomplete="off" class="layui-input ">
                </div>
                <button type="button"  class="layui-btn layui-btn-sm layui-btn-radius layui-btn-normal">&nbsp&nbsp&nbsp查找&nbsp&nbsp&nbsp</button><br>
            </form>
<!--            <div class="question_analysis">-->
<!--                <button type="button" class="layui-btn layui-btn-normal">全部题目</button>-->
<!--                <button type="button" class="layui-btn layui-btn-normal">错误题目</button>-->
<!--                <button type="button" class="layui-btn layui-btn-normal">按错误率排序</button>-->
<!--                <button type="button" class="layui-btn layui-btn-normal">按题号排序</button>-->
<!--            </div>-->
          </div>  

 <!-- 答案解析          -->
          <div class="grid-demo-bg2">
            <div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief" style="padding: 10px;">
                <ul class="layui-tab-title">
                  <li class="layui-this">单选题</li>
                  <li>多选题</li>
                  <li>填空题</li>
                  <li>主观题</li>
                </ul>   
<!-- 错题的结果 -->
                <div class="layui-tab-content">
                  <div class="layui-tab-item layui-show">
                    <div class="layui-collapse" id="single">

                      </div>
                  </div>
<!-- 多选 -->
                  <div class="layui-tab-item">
                    <div class="layui-collapse" id="mutiple">

                        <div class="layui-colla-item">
                          <h2 class="layui-colla-title">第三题:<span>1.1,下面哪个选项正确？</span></h2>
                          <div class="layui-colla-content">内容区域</div>
                        </div>
                      </div>
                  </div>
  <!-- 填空题                 -->
                  <div class="layui-tab-item">
                    <div class="layui-collapse"id="blank">

                      </div>
                  </div>
  <!-- 主观题                 -->
                  <div class="layui-tab-item">
                    <div class="layui-collapse" id="zhu">

                      </div>
                  </div>
                </div>
              </div>
          </div>
        </div>
      </div>
      <!--<div class="layui-form" style="display: none;" id="grade_class_table">-->
        <!--<h4>班级：<span>3班</span></h4>-->
        <!--<table class="layui-table">-->
          <!--<colgroup>-->
            <!--<col width="150">-->
            <!--<col width="150">-->
            <!--<col width="200">-->
            <!--<col>-->
          <!--</colgroup>-->
          <!--<thead>-->
            <!--<tr>              -->
              <!--<th>学号</th>-->
              <!--<th>姓名</th>-->
              <!--<th>成绩</th>-->
              <!--<th>排名</th>-->
            <!--</tr> -->
          <!--</thead>-->
          <!--<tbody id="grade_class_tbody">-->
            <!--<tr>-->
              <!--<td>贤心</td>-->
              <!--<td>汉族</td>-->
              <!--<td>1989-10-14</td>-->
              <!--<td>人生似修行</td>-->
              <!---->
            <!--</tr>-->
            <!---->
            <!--<tr>-->
              <!--<td>Helen Keller</td>-->
              <!--<td>拉丁美裔</td>-->
              <!--<td>1880-06-27</td>-->
              <!--<td> Life is either a daring adventure or nothing.</td>-->
              <!---->
            <!--</tr>-->
            <!---->
            <!--<tr>-->
              <!--<td>孟子</td>-->
              <!--<td>华夏族（汉族）</td>-->
              <!--<td>公元前-372年</td>-->
              <!--<td>猿强，则国强。国强，则猿更强！ </td>-->
              <!---->
            <!--</tr>-->
          <!--</tbody>-->
        <!--</table>-->
      <!--</div>-->
      <div class="layui-form" style="display: none;" id="progress_table">
        <h4>班级：<span>3班</span></h4>
        <table class="layui-table">
          <colgroup>
            <col width="150">
            <col width="150">
            <col width="200">
            <col>
          </colgroup>
          <thead>
            <tr>
                <th>学号</th>
                <th>姓名</th>
                <th>上次成绩</th>
                <th>本次成绩</th>
                <th>进退步情况</th>
            </tr>
          </thead>
          <tbody id="progress_tbody">
            <tr>
              <td>贤心</td>
              <td>汉族</td>
              <td>1989-10-14</td>
              <td>人生似修行</td>
            </tr>
            
            <tr>
              <td>Helen Keller</td>
              <td>拉丁美裔</td>
              <td>1880-06-27</td>
              <td> Life is either a daring adventure or nothing.</td>
            </tr>
            
            <tr>
              <td>孟子</td>
              <td>华夏族（汉族）</td>
              <td>公元前-372年</td>
              <td>猿强，则国强。国强，则猿更强！ </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="layui-form" style="display: none;" id="accuracy_table">
        <h4>班级：<span>3班</span></h4>
        <table class="layui-table">
          <colgroup>
            <col width="150">
            <col width="150">
            <col width="200">
            <col>
          </colgroup>
          <thead>
            <tr>
                <th>题目类型</th>
                <th>题号</th>
                <th>正确率</th>
                <th>错的人数</th>
            </tr> 
          </thead>
          <tbody id="accuracy_tbody">
            <tr>
              <td>贤心</td>
              <td>汉族</td>
              <td>1989-10-14</td>
              <td>人生似修行</td>
              <td>人生似修行</td>
            </tr>
            
            <tr>
              <td>Helen Keller</td>
              <td>拉丁美裔</td>
              <td>1880-06-27</td>
              <td> Life is either a daring adventure or nothing.</td>
              <td>人生似修行</td>
            </tr>
            
            <tr>
              <td>孟子</td>
              <td>华夏族（汉族）</td>
              <td>公元前-372年</td>
              <td>猿强，则国强。国强，则猿更强！ </td>
              <td>人生似修行</td>
            </tr>
          </tbody>
        </table>
      </div>
      </table>

      <div class="layui-form" style="display: none;" id="specific_wrong_person_table">
        <table class="layui-table">
          <colgroup>
            <col width="150">
            <col width="150">
            <col width="200">
            <col>
          </colgroup>
          <thead>
            <tr>
                <th>姓名</th>
              <th>邮箱</th>
              <th>学生本题答案</th>
              <th>本题得分</th>
            </tr> 
          </thead>
          <tbody id="specific_wrong_person_tbody">

          </tbody>
        </table>
      </div>
      </table>

<script>
    function exit() {
        $.cookie('userEmail', '', { expires: -1 }); // 删除 cookie
        $.cookie('token', '', { expires: -1 }); // 删除 cookie
        $.cookie("examName",'',{ expires: -1 });
    }
</script>
      <script>
          // var str=decodeURI(location.href);
          // var examname=str.split("?")[1].split("=")[1];
          $(document).ready(function () {
              layui.use(['form','element','layer'], function(){
                  var form = layui.form;
                  var element=layui.element;
                  var layer=layui.layer;
                  alert($.cookie("examName"));
              $.ajax({
                  url:"/teacherAnalisis",
                  data:{
                      "token":"123",
                      "examName":$.cookie("examName")
                      //"courseCode":123
                  },
                  type:"GET",
                  success:function (data) {
                      console.log(data);
                      // var data = JSON.parse(data);
                      console.log(data);
                      if(true) {
                          console.log(data.map);
                          console.log(data.map.studentSum);
                          console.log(data.map.subject[0].analysis);
                          console.log(data.map.subject[0].options);
                          console.log(data.map.subjectPin[0].single_type);
                          data=data.map
                          for (var i=0; i < data.subject.length; ++i) {
                              if(data.subject[i].single_type==="1"){
                                  $("#single").empty();
                                  //单选
                                  //设置选中
                                  var rr = data.subject[i].answer;
                                  var temp = "A";
                                  var ch = "";
                                  var str = "";
                                  var m=0;
                                  var n=0;
                                  for (var j = 0;j<data.subject[i].options.length;j++){
                                      if (j ==1){
                                          temp = "B";
                                      }
                                      else if (j ==2) {
                                          temp="C";
                                      }
                                      else if (j  ==3){
                                          temp="D";
                                      }
                                      if (temp ==rr ){
                                          ch = "checked"
                                      }
                                      else{
                                          ch = "disabled";
                                      }
                                      str+="<div class=\"choice_box\" >"+
                                          "       <input type=\"radio\" name=\"single_choice\" value=\"男\"  "+ch+" title=\""+temp+"\"><span class=\"choice_question\">"+data.subject[i].options[j]+"</span><br>" +
                                          "    </div>"
                                  }
                                  var strPeople="";
                                  for (var l=0;l<data.subject[i].error_people.length;++l){
                                      strPeople+="<div style='display:none'>"+
                                          "       <input type=\"checkbox\" name=\"single_choice"+data.subject[i].question_node+"\" value=\"男\"  "+ch+" title=\""+temp+"\"><span class=\"choice_question\">"+data.subject[i].error_people[l]+"</span><br>" +
                                          "    </div>"
                                  }
                                  var rate = Math.floor((data.subject[i].error_people.length/data.studentSum)*100)+"%"
                            //单选
                                  $("#single").append("<div class=\"layui-collapse\">\n" +
                                      "                        <div class=\"layui-colla-item\">\n" +
                                      "                          <h2 class=\"layui-colla-title\">第 "+(m+1)+" 题:<span>"+" "+data.subject[i].question_content+"</span></h2>\n" +
                                      "                          <div class=\"layui-colla-content layui-show\">\n" +
                                      "                            \n" +
                                      "                              <form class=\"layui-form\" action=\"\">\n" +
                                      "                                <div class=\"layui-form-item\">\n" +
                                      "                                  \n" +
                                      "                                  <div class=\"layui-input-block\">\n" +
                                      "                                      "+str+
                                      "                                      "+strPeople+
                                      "                                        <span>正确答案"+data.subject[i].answer +"</span>\n" +
                                      "                                        <p>解析："+data.subject[i].analysis+"</p>\n" +
                                      "                                        <p>错误率："+rate+"</p>\n" +
                                      "                          <div id='disID" + i + "'style='display:none'>" +  data.subject[i].question_node + "</div>\n" +
                                      "                          <div id='disIDType" + i + "'style='display:none'>" + data.subject[i].single_type + "</div>\n" +
                                      " <button type=\"button\" class=\"layui-btn layui-btn-normal specific_wrong_person\" lay-submit id='specific_wrong_person' lay-filter='specific_wrong_person'>查看具体错误人</button>"+
                                      "                                  </div>\n" +
                                      "                                </div>\n" +
                                      "                                </form>\n" +
                                      "                          </div>\n" +
                                      "                        </div>\n" +
                                      "                  </div>")
                                  m++;
                                        form.render();
                                      element.init();
                              }else{
                                  $("#mutiple").empty();
                                  //单选
                                  //设置选中
                                  var rr = JSON.stringify(data.subject[i].answer);
                                  console.log(rr);
                                  var temp = "A";
                                  var ch = "";
                                  var str = "";
                                  var num=0;
                                  alert("A"==="A")
                                  alert("A"=="A")
                                  for (var j = 0;j<data.subject[i].options.length;j++){

                                      if (j ==1){
                                          temp = "B";
                                      }
                                      else if (j ==2) {
                                          temp="C";
                                      }
                                      else if (j  ==3){
                                          temp="D";
                                      }
                                      //alert()
                                      ch = "disabled";
                                      for(var t=0;t<rr.length;++t) {
                                          if(temp==rr[t]){
                                              ch = "checked";
                                              break;
                                          }
                                      }
                                      str+="<div class=\"choice_box\" >"+
                                          "       <input type=\"checkbox\" name=\"single_choice"+data.subject[i].question_node+"\" value=\"男\"  "+ch+" title=\""+temp+"\"><span class=\"choice_question\">"+data.subject[i].options[j]+"</span><br>" +
                                          "    </div>"
                                  }

                                  var rate = Math.floor((data.subject[i].error_people.length/data.studentSum)*100)+"%"
                                  //单选
                                  $("#mutiple").append("<div class=\"layui-collapse\">\n" +
                                      "                        <div class=\"layui-colla-item\">\n" +
                                      "                          <h2 class=\"layui-colla-title\">第 "+(n+1)+" 题:<span>"+" "+data.subject[i].question_content+"</span></h2>\n" +
                                      "                          <div class=\"layui-colla-content layui-show\">\n" +
                                      "                            \n" +
                                      "                              <form class=\"layui-form\" action=\"\">\n" +
                                      "                                <div class=\"layui-form-item\">\n" +
                                      "                                  \n" +
                                      "                                  <div class=\"layui-input-block\">\n" +
                                      "                                      "+str+
                                      "                                        <span>正确答案"+data.subject[i].answer +"</span>\n" +
                                      "                                        <p>解析："+data.subject[i].analysis+"</p>\n" +
                                      "                                        <p>错误率："+rate+"</p>\n" +
                                      "                          <div id='disID" + i + "'style='display:none'>" +  data.subject[i].question_node + "</div>\n" +
                                      "                          <div id='disIDType" + i + "'style='display:none'>" + data.subject[i].single_type + "</div>\n" +
                                      " <button type=\"button\" class=\"layui-btn layui-btn-normal specific_wrong_person\"lay-submit id='specific_wrong_person'  lay-filter='specific_wrong_person'>查看具体错误人</button>"+
                                      "                                  </div>\n" +
                                      "                                </div>\n" +
                                      "                                </form>\n" +
                                      "                          </div>\n" +
                                      "                        </div>\n" +
                                      "                  </div>")
                                  n++;
                                  form.render();
                                  element.init();
                              }
                          }
                          for (var i=0; i < data.subjectPin.length; ++i) {
                              if(data.subjectPin[i].object_type==="1"){
                                  $("#blank").empty();
                                  //单选
                                  //设置选中
                                    var m=0;
                                    var n=0;
                                  var rate = Math.floor((data.subjectPin[i].error_people.length/data.studentSum)*100)+"%"
                                  $("#blank").append("<div class=\"layui-collapse\">\n" +
                                      "                        <div class=\"layui-colla-item\">\n" +
                                      "                          <h2 class=\"layui-colla-title\">第 "+(m+1)+" 题:<span>"+" "+data.subjectPin[i].question_content+"</span></h2>\n" +
                                      "                          <div class=\"layui-colla-content layui-show\">\n" +
                                      "                            \n" +
                                      "                              <form class=\"layui-form\" action=\"\">\n" +
                                      "                                <div class=\"layui-form-item\">\n" +
                                      "                                  \n" +
                                      "                                  <div class=\"layui-input-block\">\n" +
                                      "                                        <span>正确答案"+data.subjectPin[i].question_answer +"</span>\n" +
                                      "                                        <p>解析："+data.subjectPin[i].analysis+"</p>\n" +
                                      "                                        <p>错误率："+rate+"</p>\n" +
                                      "                          <div id='disID" + i + "'style='display:none'>" +  data.subjectPin[i].question_node + "</div>\n" +
                                      "                          <div id='disIDType" + i + "'style='display:none'>" + data.subjectPin[i].object_type + "</div>\n" +
                                      " <button type=\"button\" class=\"layui-btn layui-btn-normal specific_wrong_person\" lay-submit id='specific_wrong_person1' lay-filter='specific_wrong_person'>查看具体错误人</button>"+
                                      "                                  </div>\n" +
                                      "                                </div>\n" +
                                      "                                </form>\n" +
                                      "                          </div>\n" +
                                      "                        </div>\n" +
                                      "                  </div>")
                                  m++;
                                  form.render();
                                  element.init();
                              }else{
                                  $("#zhu").empty();
                                  var rate = Math.floor((data.subjectPin[i].error_people.length/data.studentSum)*100)+"%"
                                  //单选
                                  $("#zhu").append("<div class=\"layui-collapse\">\n" +
                                      "                        <div class=\"layui-colla-item\">\n" +
                                      "                          <h2 class=\"layui-colla-title\">第 "+(n+1)+" 题:<span>"+" "+data.subjectPin[i].question_content+"</span></h2>\n" +
                                      "                          <div class=\"layui-colla-content layui-show\">\n" +
                                      "                            \n" +
                                      "                              <form class=\"layui-form\" action=\"\">\n" +
                                      "                                <div class=\"layui-form-item\">\n" +
                                      "                                  \n" +
                                      "                                  <div class=\"layui-input-block\">\n" +

                                      "                                        <span>正确答案"+data.subjectPin[i].question_answer +"</span>\n" +
                                      "                                        <p>解析："+data.subjectPin[i].analysis+"</p>\n" +
                                      "                                        <p>错误率："+rate+"</p>\n" +

                                      "                          <div id='disID" + i + "'style='display:none'>" +  data.subjectPin[i].question_node + "</div>\n" +
                                      "                          <div id='disIDType" + i + "'style='display:none'>" + data.subjectPin[i].object_type + "</div>\n" +
                                      " <button type=\"button\" class=\"layui-btn layui-btn-normal specific_wrong_person\"lay-submit id='specific_wrong_person1' lay-filter='specific_wrong_person'>查看具体错误人</button>"+
                                      "                                  </div>\n" +
                                      "                                </div>\n" +
                                      "                                </form>\n" +
                                      "                          </div>\n" +
                                      "                        </div>\n" +
                                      "                  </div>")
                                  n++;
                                  form.render();
                                  element.init();
                              }

                          }

                                       }
                  },error:function (data) {
                      alert("请求失败");
                  }
              })
          })
          })
        //注意：导航 依赖 element 模块，否则无法进行功能性操作
        layui.use(['rate','element','form','layer','table'], function(){
          var element = layui.element;
          var rate = layui.rate;
          var form = layui.form;
          var $ = layui.jquery, layer = layui.layer;
          var table = layui.table;
          rate.render({
              elem: '#test9'
              ,value: 4
              ,readonly: true
          });
 //班级成绩
         $("#grade_class").on('click', function(data){

            var index=layer.open({
                type: 1,
                skin: 'layui-layer-rim', //加上边框
                maxmin: true,
                area: ['770px', '550px'], //宽高
                content: $("#grade_class_table")
                });


        });

            $(document).on('click', "#specific_wrong_person",function(data){
                console.log($(this).prev().html());
                var id =$(this).prev().prev().html();
                var type =$(this).prev().html();
                data ={
                    "id":id,
                    "type":type,
                    "subjectType":1,
                    "examName":$.cookie("examName")
                }
                AJAX.post("/errorStudentSearch",data,function (res) {
                    console.log(res);
                    if (res.flag){
                        layer.msg("显示错误人成功")
                        $("#specific_wrong_person_tbody").empty();
                        for(var i=0;i<res["map"]["errorPeople"].length;i++){
                            console.log(res["map"]["subjectPeople"][i]);
                            $("#specific_wrong_person_tbody").append(
                                "<tr>\n" +
                                "              <td>"+ res["map"]["subjectPeople"][i]+"</td>\n" +
                                "              <td>"+ res["map"]["errorPeople"][i]["studentId"]+"</td>\n" +
                                "              <td>"+ res["map"]["errorPeople"][i]["personalAnswer"]+"</td>\n" +
                                "              <td>"+ res["map"]["errorPeople"][i]["score"]+"</td>\n" +

                                "            </tr>"
                            )
                        }


                    }else{
                        $("#specific_wrong_person_tbody").empty();
                        $("#specific_wrong_person_tbody").append(
                            "<tr>\n" +
                            "              <td colspan=\"4\">没有错误学生</td>\n" +

                            "            </tr>"
                        )
                    }
                    layui.use('element', function(){
                        var element = layui.element;
                        //一些事件监听
                        element.init();
                    });
                    var index=layer.open({
                        type: 1,
                        skin: 'layui-layer-rim', //加上边框
                        maxmin: true,
                        area: ['770px', '550px'], //宽高
                        content:  $("#specific_wrong_person_table")
                    });
                })
            })
            //大题填空
            $(document).on('click', "#specific_wrong_person1",function(data){
                console.log($(this).prev().html());
                var id =$(this).prev().prev().html();
                var type =$(this).prev().html();
                data ={
                    "id":id,
                    "type":type,
                    "subjectType":2,
                    "examName":$.cookie("examName")
                }
                AJAX.post("/errorStudentSearch",data,function (res) {
                    console.log(res);
                    console.log(res["map"]["errorPeople"][0]["id"]);
                    if (res.flag){
                        layer.msg("显示错误人成功");
                        $("#specific_wrong_person_tbody").empty();
                        for(var i=0;i<res["map"]["errorPeople"].length;i++){
                            $("#specific_wrong_person_tbody").append(
                                "<tr>\n" +
                                "              <td>"+ res["map"]["subjectPeople"][i]+"</td>\n" +
                                "              <td>"+ res["map"]["errorPeople"][i]["studentId"]+"</td>\n" +
                                "              <td>"+ res["map"]["errorPeople"][i]["personalAnswer"]+"</td>\n" +
                                "              <td>"+ res["map"]["errorPeople"][i]["score"]+"</td>\n" +
                                "            </tr>"
                            )
                        }
                    } else{
                        $("#specific_wrong_person_tbody").empty();
                        $("#specific_wrong_person_tbody").append(
                            "<tr>\n" +
                            "              <td colspan=\"4\">没有错误学生</td>\n" +
                            "            </tr>"
                        )
                    }
                    layui.use('element', function(){
                        var element = layui.element;
                        //一些事件监听
                        element.init();
                    });
                    var index=layer.open({
                        type: 1,
                        skin: 'layui-layer-rim', //加上边框
                        maxmin: true,
                        area: ['770px', '550px'], //宽高
                        content:  $("#specific_wrong_person_table")
                    });
                })
            })
        // $(document).on('click', ".specific_wrong_person",function(data){
        //     //data=data.serialize();
        //     console.log(data);
        //        // layer.full(index)
        //     // $.ajax({
        //     //     url:"/errorRate",
        //     //     data:{
        //     //         "token":"123",
        //     //         "testId":123,
        //     //         "courseCode":123
        //     //     },
        //     //     type:"GET",
        //     //     success:function (data) {
        //     //         var data = JSON.parse(data);
        //     //         console.log(data);
        //     //         if(data.code=="200") {
        //     //             console.log(data);
        //     //             console.log(data.data);
        //     //             console.log(data.data.course_type_code);
        //     //             console.log(data.data["course_type_code"]);
        //     //             //console.log(data["data"][0]["question_name"]);
        //     //             var i=0;
        //     //             data=data.data;
        //     //             console.log("============");
        //     //             $("#specific_wrong_person_tbody").append(
        //     //                 "<tr>\n" +
        //     //                 "              <td>"+ data["course_type_code"]+"</td>\n" +
        //     //                 "              <td>"+ data["error_rate"]+"</td>\n" +
        //     //                 "              <td>"+ data["question_content"]+"</td>\n" +
        //     //                 "              <td>"+ data["question_error_node"]+"</td>\n" +
        //     //                 "              <td>"+ data["question_type"]+"</td>\n" +
        //     //                 "            </tr>"
        //     //             )
        //     //             layui.use('element', function(){
        //     //                 var element = layui.element;
        //     //                 //一些事件监听
        //     //                 element.init();
        //     //             });                }
        //     //     },error:function (data) {
        //     //         alert("请求失败");
        //     //     }
        //     // })
        //     var index=layer.open({
        //         type: 1,
        //         skin: 'layui-layer-rim', //加上边框
        //         maxmin: true,
        //         area: ['770px', '550px'], //宽高
        //         content:  $("#specific_wrong_person_table")
        //     });
        // });
            $("#specific_wrong_person_table").append()
          //…
        });


        </script>
</body>
</html>